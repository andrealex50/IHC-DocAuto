<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocAuto</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="css/home.css">
    <script src="home.js" defer></script>
</head>
<body>
    <div class="top-bar">
        <div class="left-icons">
            <div class="icon-container">
                <a href="garage.html" class="nav-icon">
                    <div class="icon-badge-container">
                        <img src="assets/garage.svg" alt="My Garage" class="nav-icon-img">
                        <span class="notification-badge notification-badge-garage">0</span>
                    </div>
                    <span class="nav-text">My Garage</span>
                </a>
            </div>
            
            <div class="icon-container">
                
                <a href="appointments.html" class="nav-icon">
                    <div class="icon-badge-container">
                        <img src="assets/appointments.svg" alt="Appointments" class="nav-icon-img">
                        <span class="notification-badge notification-badge-appoint">0</span>
                    </div>
                    <span class="nav-text">Appointments</span>
                </a>
            </div>
        </div>
        
        <div class="logo-box">
            <a href="home.html">
                <img src="assets/logo.png" alt="DocAuto" class="logo">
            </a>
        </div>
        
        <div class="right-icons">
            <!-- In the right-icons section, update the cart icon container -->
            <div class="icon-container" id="cart-icon-container">
                <div class="nav-icon" id="cart-icon">
                    <div class="icon-badge-container">
                        <img src="assets/shopping-cart.png" alt="Cart" class="nav-icon-img">
                        <span class="notification-badge notification-badge-cart">0</span>
                    </div>
                    <span class="nav-text" id="cart-total">0.00€</span>
                </div>
                
                <!-- Cart Popup -->
                <div class="cart-popup">
                    <div class="cart-popup-content" id="cartPopupContent">
                        <!-- Content will be loaded via JS -->
                    </div>
                    <div class="total-section">
                        <div class="total-row">
                            <span>Entrega</span>
                            <span class="delivery-price">0.00€</span>
                        </div>
                        <div class="total-row">
                            <strong>Valor total</strong>
                            <strong class="total-price">0.00€</strong>
                        </div>
                        <div class="tax-note">Inclui IVA de 23%</div>
                    </div>
                    <div class="cart-buttons">
                        <a href="wishlist.html" class="wishlist-link">Ir para a Wishlist</a>
                        <a href="checkout.html" class="checkout-button">Checkout</a>
                    </div>
                </div>
            </div>
            
            
            <div class="icon-container">
                <a href="personal.html" class="nav-icon" id="auth-link">
                    <div class="icon-badge-container profile-icon" >
                        <img src="assets/profile.svg" alt="Sign In" class="nav-icon-img" id="auth-icon-img">
                    </div>
                    <span class="nav-text" id="auth-text">Sign In</span>
                </a>
            </div>
        </div>
    </div>

    <div class="search-container">
        <div class="custom-dropdown">
            <div class="selected-option" onclick="toggleDropdown()">
                <img src="assets/car.svg" alt="Car" class="vehicle-icon" id="selected-icon">
                <span id="selected-text">Car</span>
            </div>
            <div class="dropdown-options" id="dropdown-options">
                <!-- Options will be populated by JavaScript -->
            </div>
            <input type="hidden" id="vehicleType" name="type" value="car">
        </div>
        
        <input type="text" id="search-term" placeholder="Insert name or part number" class="search-input">
        <button class="search-button" onclick="performSearch()">
            <img src="assets/search.svg" alt="Search" class="vehicle-icon">
        </button>
    </div>

    <div class="content">
        <section class="search">
            <div class="search-group">
                <div class="search-plate">
                    <h2 class="search-title-global">
                        Peças auto por matrícula
                    </h2>
            
                    <div class="search-plate-inputs">
                        <div class="number-search__input--blue">
                            <div class="number-search__left">
                                <span class="number-search__input-icon">
                                    <img src="assets/European_stars.svg.png" alt="EU Stars" />
                                </span>
                                <span class="country-code">P</span>
                            </div>
                            <input
                                class="form-input form-input--lg"
                                type="text"
                                aria-label="license-plate"
                                name="license-plate"
                                id="license-plate"
                                placeholder="00-00-XX"
                                maxlength="8" />
                        </div>
            
                        <button class="search-button-plate" aria-label="search" onclick="searchByPlate()">Pesquisar</button>
                    </div>
                </div>
            
                <div class="search-model" id="model-search-section">
                    <h3 class="search-subtitle">Selecionar o modelo do carro para procurar peças para automóveis</h3>
                    <div class="vehicle-details">
                        <div class="select-container">
                            <span class="step-number">1</span>
                            <select name="car-brand" id="car-brand" class="form-select">
                                <option value="">Selecione uma marca</option>
                            </select>
                        </div>
            
                        <div class="select-container">
                            <span class="step-number">2</span>
                            <select name="car-model" id="car-model" class="form-select" disabled>
                                <option value="">Selecione um modelo</option>
                            </select>
                        </div>
            
                        <div class="select-container">
                            <span class="step-number">3</span>
                            <select name="car-year" id="car-year" class="form-select" disabled>
                                <option value="">Selecione uma modificação</option>
                            </select>
                        </div>
            
                        <button class="search-button-model" aria-label="search" onclick="searchByModel()">Pesquisar</button>
                    </div>
                </div>
            </div>
            
            <div class="type-group">
                <div class="promo-slider">
                    <div class="promo-slide active">
                        <img src="assets/garage_wp.jpg" alt="Promoção 1" class="promo-image">
                        <div class="promo-content">
                            <h3>My Garage</h3>
                            <p>Adicione os seus veículos à sua <br> garagem para facilitar a pesquisa de peças</p>
                            <button class="promo-button" onclick="window.location.href='ofertas-pascoa.html'">VER GARAGEM</button>
                        </div>
                    </div>
                    
                    <div class="promo-slide">
                        <img src="assets/mechanic_wp.jpg" alt="Promoção 2" class="promo-image">
                        <div class="promo-content">
                            <h3>Appointments</h3>
                            <p>Agende e verifique as datas para </br> as suas inspeções</p>
                            <button class="promo-button" onclick="window.location.href='download-app.html'">VER APPOINTMENTS</button>
                        </div>
                    </div>
                    
                    <div class="promo-slide">
                        <img src="assets/car_parts_wp.jpg" alt="Promoção 3" class="promo-image">
                        <div class="promo-content">
                            <h3>Peças</h3>
                            <p>Encomende as suas peças com facilidade</p>
                            <button class="promo-button" onclick="window.location.href='pecas-destaque.html'">COMPRAR AGORA</button>
                        </div>
                    </div>
                    
                    <div class="slider-controls">
                        <button class="slider-prev">&lt;</button>
                        <div class="slider-dots">
                            <span class="dot active"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                        <button class="slider-next">&gt;</button>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="most-searched">
            <h2>Most Searched Parts:</h2>
            <div class="parts">
                <a href="part.html?category=exhaust" class="part-item">
                    <img src="assets/exhaust.png" alt="Exhaust">
                    <p>Exhaust</p>
                </a>
                <a href="part.html?category=tyres" class="part-item">
                    <img src="assets/tyres.png" alt="Tyres">
                    <p>Tyres</p>
                </a>
                <a href="part.html?category=breaks" class="part-item">
                    <img src="assets/breaks.png" alt="Breaks">
                    <p>Breaks</p>
                </a>
                <a href="part.html?category=suspension" class="part-item">
                    <img src="assets/suspension.png" alt="Suspension">
                    <p>Suspension</p>
                </a>
                <a href="part.html?category=filters" class="part-item">
                    <img src="assets/filters.png" alt="Filters">
                    <p>Filters</p>
                </a>
            </div>
        </section>
        
        <section class="search-by-brand">
            <h2>Search by Brand:</h2>
            <div class="brands1">
                <a class="brand-item">
                    <img src="assets/bmw.png" alt="BMW">
                </a>
                <a class="brand-item">
                    <img src="assets/audi.png" alt="Audi">
                </a>
                <a class="brand-item">
                    <img src="assets/vw.png" alt="Volkswagen">
                </a>
                <a class="brand-item">
                    <img src="assets/ford.png" alt="Ford">
                </a>
                <a class="brand-item">
                    <img src="assets/mercedes.png" alt="Mercedes">
                </a>
            </div>
            <div class="brands2">
                <a class="brand-item">
                    <img src="assets/seat.png" alt="Seat">
                </a>
                <a class="brand-item">
                    <img src="assets/renault.png" alt="Renault">
                </a>
                <a class="brand-item">
                    <img src="assets/fiat.png" alt="Fiat">
                </a>
                <a class="brand-item">
                    <img src="assets/peugeot.png" alt="Peugeot">
                </a>
                <a class="brand-item">
                    <img src="assets/volvo.png" alt="Volvo">
                </a>
            </div>
            <div id="model-search-bar">
                <label for="custom-model-input">Não encontra a marca?</label>
                <input type="text" id="custom-model-input" placeholder="Pesquise ou introduza a marca" style="width: 100%; padding: 6px; margin-top: 4px;">
            </div>            
        </section>
    </div>
</body>
</html>